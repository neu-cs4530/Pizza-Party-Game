import ConnectFourGameArea from './ConnectFourGameArea';
import TicTacToeGameArea from './TicTacToeGameArea';
export default function GameAreaFactory(mapObject, broadcastEmitter) {
    const { name, width, height } = mapObject;
    if (!width || !height) {
        throw new Error(`Malformed viewing area ${name}`);
    }
    const rect = { x: mapObject.x, y: mapObject.y, width, height };
    const gameType = mapObject.properties?.find(prop => prop.name === 'type')?.value;
    if (gameType === 'TicTacToe') {
        return new TicTacToeGameArea(name, rect, broadcastEmitter);
    }
    if (gameType === 'ConnectFour') {
        return new ConnectFourGameArea(name, rect, broadcastEmitter);
    }
    throw new Error(`Unknown game area type ${mapObject.class}`);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiR2FtZUFyZWFGYWN0b3J5LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL3Rvd24vZ2FtZXMvR2FtZUFyZWFGYWN0b3J5LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUdBLE9BQU8sbUJBQW1CLE1BQU0sdUJBQXVCLENBQUM7QUFDeEQsT0FBTyxpQkFBaUIsTUFBTSxxQkFBcUIsQ0FBQztBQVNwRCxNQUFNLENBQUMsT0FBTyxVQUFVLGVBQWUsQ0FDckMsU0FBMEIsRUFDMUIsZ0JBQTZCO0lBRTdCLE1BQU0sRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxHQUFHLFNBQVMsQ0FBQztJQUMxQyxJQUFJLENBQUMsS0FBSyxJQUFJLENBQUMsTUFBTSxFQUFFO1FBQ3JCLE1BQU0sSUFBSSxLQUFLLENBQUMsMEJBQTBCLElBQUksRUFBRSxDQUFDLENBQUM7S0FDbkQ7SUFDRCxNQUFNLElBQUksR0FBZ0IsRUFBRSxDQUFDLEVBQUUsU0FBUyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsU0FBUyxDQUFDLENBQUMsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLENBQUM7SUFDNUUsTUFBTSxRQUFRLEdBQUcsU0FBUyxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxLQUFLLE1BQU0sQ0FBQyxFQUFFLEtBQUssQ0FBQztJQUNqRixJQUFJLFFBQVEsS0FBSyxXQUFXLEVBQUU7UUFDNUIsT0FBTyxJQUFJLGlCQUFpQixDQUFDLElBQUksRUFBRSxJQUFJLEVBQUUsZ0JBQWdCLENBQUMsQ0FBQztLQUM1RDtJQUNELElBQUksUUFBUSxLQUFLLGFBQWEsRUFBRTtRQUM5QixPQUFPLElBQUksbUJBQW1CLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxnQkFBZ0IsQ0FBQyxDQUFDO0tBQzlEO0lBQ0QsTUFBTSxJQUFJLEtBQUssQ0FBQywwQkFBMEIsU0FBUyxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUM7QUFDL0QsQ0FBQyJ9